<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ESLint 基本操作 | Vinrun Topics</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/Topics/favicon.ico">
    <meta name="description" content="开源项目探究站点">
    
    <link rel="preload" href="/Topics/assets/css/0.styles.597783d6.css" as="style"><link rel="preload" href="/Topics/assets/js/app.3843aff7.js" as="script"><link rel="preload" href="/Topics/assets/js/4.60115d9f.js" as="script"><link rel="preload" href="/Topics/assets/js/19.cbf35e33.js" as="script"><link rel="prefetch" href="/Topics/assets/js/10.7eb8c580.js"><link rel="prefetch" href="/Topics/assets/js/11.d00cf099.js"><link rel="prefetch" href="/Topics/assets/js/12.ba34bc6e.js"><link rel="prefetch" href="/Topics/assets/js/13.20cd2bb9.js"><link rel="prefetch" href="/Topics/assets/js/14.ae0bc8eb.js"><link rel="prefetch" href="/Topics/assets/js/15.957aeb40.js"><link rel="prefetch" href="/Topics/assets/js/16.84f8ffa8.js"><link rel="prefetch" href="/Topics/assets/js/17.179f9e25.js"><link rel="prefetch" href="/Topics/assets/js/18.d0ae918b.js"><link rel="prefetch" href="/Topics/assets/js/20.807a2386.js"><link rel="prefetch" href="/Topics/assets/js/21.7c27c270.js"><link rel="prefetch" href="/Topics/assets/js/5.3b900247.js"><link rel="prefetch" href="/Topics/assets/js/6.6685c826.js"><link rel="prefetch" href="/Topics/assets/js/7.69ef2279.js"><link rel="prefetch" href="/Topics/assets/js/8.37a8044a.js"><link rel="prefetch" href="/Topics/assets/js/9.169211cc.js"><link rel="prefetch" href="/Topics/assets/js/vendors~flowchart.9c017805.js"><link rel="prefetch" href="/Topics/assets/js/vendors~notification.2ff3819c.js">
    <link rel="stylesheet" href="/Topics/assets/css/0.styles.597783d6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Topics/zh/" class="home-link router-link-active"><img src="/Topics/favicon.ico" alt="Vinrun Topics" class="logo"> <span class="site-name can-hide">Vinrun Topics</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Topics/zh/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/Topics/zh/topics/" class="nav-link router-link-active">
  话题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://v2.vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://v2.vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Topics/topics/eslint.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/Topics/zh/topics/eslint.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/vuejs/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Topics/zh/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/Topics/zh/topics/" class="nav-link router-link-active">
  话题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://v2.vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://v2.vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Topics/topics/eslint.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/Topics/zh/topics/eslint.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/vuejs/vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div class="carbon-ads"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>话题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Topics/zh/topics/" aria-current="page" class="sidebar-link">探讨话题</a></li><li><a href="/Topics/zh/topics/eslint.html" aria-current="page" class="active sidebar-link">ESLint 基本操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Topics/zh/topics/eslint.html#eslint-概念" class="sidebar-link">ESLint 概念</a></li><li class="sidebar-sub-header"><a href="/Topics/zh/topics/eslint.html#eslint-特性" class="sidebar-link">ESLint 特性</a></li><li class="sidebar-sub-header"><a href="/Topics/zh/topics/eslint.html#eslint-安装" class="sidebar-link">ESLint 安装</a></li><li class="sidebar-sub-header"><a href="/Topics/zh/topics/eslint.html#eslint-配置" class="sidebar-link">ESLint 配置</a></li><li class="sidebar-sub-header"><a href="/Topics/zh/topics/eslint.html#eslint-规则" class="sidebar-link">ESLint 规则</a></li><li class="sidebar-sub-header"><a href="/Topics/zh/topics/eslint.html#eslint-命令行" class="sidebar-link">ESLint 命令行</a></li><li class="sidebar-sub-header"><a href="/Topics/zh/topics/eslint.html#eslint-中的-extends-和-plugins" class="sidebar-link">ESLint 中的 extends 和 plugins</a></li><li class="sidebar-sub-header"><a href="/Topics/zh/topics/eslint.html#eslint-使用流程" class="sidebar-link">ESLint 使用流程</a></li></ul></li><li><a href="/Topics/zh/topics/prettier.html" class="sidebar-link">Prettier 基本操作</a></li><li><a href="/Topics/zh/topics/stylelint.html" class="sidebar-link">Stylelint 基本操作</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="eslint-基本操作"><a href="#eslint-基本操作" class="header-anchor">#</a> ESLint 基本操作</h1> <p><img src="https://gitlab.com/jaqea_project/Pictures/-/raw/master/img/2022/08/3_23_27_32_image-20220803232732378.png" alt="image-20220803232732378"></p> <h2 id="eslint-概念"><a href="#eslint-概念" class="header-anchor">#</a> ESLint 概念</h2> <p>ESLint 是在 ECMAScript/JavaScript 代码中识别和报告模式匹配的工具，属于一种 QA（质量保证）工具，它的目标是保证代码的一致性和避免错误，可以用来保证写出语法正确、风格统一的代码。</p> <h2 id="eslint-特性"><a href="#eslint-特性" class="header-anchor">#</a> ESLint 特性</h2> <ol><li>所有东西都是可以插拔的，可以调用任意的 rule API 或者 formatter API 去打包或者定义 rule or formatter。</li> <li>任意的 rule 都是独立的。</li> <li>没有特定的 coding style，可以自己配置。</li></ol> <h2 id="eslint-安装"><a href="#eslint-安装" class="header-anchor">#</a> ESLint 安装</h2> <ul><li><p>本地安装</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> eslint --save-dev
// 或者
<span class="token function">yarn</span> <span class="token function">add</span> eslint -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>生成配置文件：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./node_modules/.bin/eslint --init
npx eslint --init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>运行 ESLint 检查：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>./node_modules/.bin/eslint index.js
npx eslint index.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>全局安装</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g eslint
// 或者
<span class="token function">yarn</span> global <span class="token function">add</span> <span class="token punctuation">[</span>package<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>生成配置文件：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>eslint --init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行后，会在当前目录下生成一个.eslintrc 文件，可以在这个文件中配置一些规则。</p> <p>在任何文件或目录运行 ESLint：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>eslint index.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="eslint-配置"><a href="#eslint-配置" class="header-anchor">#</a> ESLint 配置</h2> <p>ESLint 被设计为完全可配置的，可以关闭每一个规则而只运行基本语法验证，或混合和匹配 ESLint 默认绑定的规则和你的自定义规则，以让 ESLint 更适合你的项目。</p> <p>有两种主要的方式来配置 ESLint：</p> <ol><li><p><strong>Configuration Comments</strong>（配置注释） ： 使用 JavaScript 注释把配置信息直接嵌入到一个代码源文件中。</p></li> <li><p><strong>Configuration Files</strong>（配置文件），使用下面任一的文件来为全部的目录和它的子目录指定配置信息。</p></li></ol> <ul><li><p>JavaScript：使用.eslintrc.js 文件并导出一个包含配置的对象。</p></li> <li><p>YAML：.eslintrc.yaml 或者.eslintrc。</p></li> <li><p>yml JSON：.eslintrc.json，并且此文件允许使用 JS 形式的注释。</p></li> <li><p>废弃的用法：.eslintrc，此文件可以是 JSON 或者 YAML。</p></li> <li><p>package.json：在 package.json 文件中创建 eslintConfig 属性，所有的配置包含在此属性中。</p> <p>这些文件的优先级排列：.eslintrc.js &gt; .eslintrc.yaml &gt; .eslintrc.yml &gt; .eslintrc.json &gt; .eslintrc &gt; package.json。</p></li></ul> <p>从最高优先级到最低优先级的完整配置层次：</p> <ol><li>内联配置：<code>/*eslint-disable*/</code>和 <code>/*eslint-enable*/ /*global*/ /*eslint*/ /*eslint-env*/</code></li> <li>命令行选项：<code>--global --rule --env -c,--config</code></li> <li>项目及配置：<code>.eslintrc.*</code>或者将 package.json 文件放入与 linted 文件相同的目录中，继续搜索.eslintrc，并 package.json 在祖先目录中的文件（父具有最高优先级，然后祖父母等），直至并包括根目录或直到一个配置<code>root:true</code>中找到。</li></ol> <p>在没有从 1~3 的任何配置的情况下，回到个人的默认配置~/.eslintrc。</p> <p>.eslintrc.*文件或文件中的 eslintConfig 字段的形式（package.json），ESLint 将自动查找和读取，也可以在命令行上指定配置文件。</p> <p>若主目录中（通常~/）有配置文件，则 ESLint 仅在 ESLint 找不到任何其他配置文件时才使用它。</p> <p>若在同一个目录中找到.eslintrc 和 package.json，.eslintrc 将会优先考虑，并且 package.json 不会使用文件。</p> <p>配置的信息主要有三类：</p> <ol><li>环境：脚本设计运行的环境，每个环境都带有一组预定义的全局变量。</li> <li>全局变量：脚本在执行期间访问的其他全局变量。</li> <li>规则：启用哪些规则以及错误级别。</li></ol> <h2 id="eslint-规则"><a href="#eslint-规则" class="header-anchor">#</a> ESLint 规则</h2> <ol><li><p>解析器选项（parserOptions）</p> <p>配置解析器内容。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 指定ES的版本，默认为5</span>
	<span class="token property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
     <span class="token comment">// 配置JS文件加载模式，script | module，默认为script。</span>
	<span class="token property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 指定要使用其他那些语言对象</span>
	<span class="token property">&quot;ecmaFeatures&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;experimentalObjectRestSpread&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启用对对象的扩展</span>
		<span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 启用jsx语法</span>
		<span class="token property">&quot;globalReturn&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许return在全局使用</span>
		<span class="token property">&quot;impliedStrict&quot;</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token comment">// 启用严格校验模式</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>属性说明：</p> <ul><li><code>&quot;ecmaVersion&quot;</code>：配置 JS 的语法版本。</li> <li><code>&quot;sourceType&quot;</code>：配置 JS 文件加载模式。</li> <li><code>&quot;ecmaVersion&quot;</code>：配置想要使用的额外语言特性。</li></ul></li> <li><p>解析器（parser）</p> <p>默认情况下 ESLint 使用 Espree 解析器，可以修改它的默认设置。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;parser&quot;</span><span class="token operator">:</span><span class="token string">&quot;babel-eslint&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>环境配置（env）</p> <p>配置预定义的全局环境，默认情况下，所有环境变量都为 false，且这些环境并不冲突，可以自由选择搭配。</p> <p>环境定义了预定义的全局变量，可用的部分环境有：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>browser - 浏览器全局变量。
node - Node.js全局变量和Node.js范围。
commonjs - CommonJS全局变量和CommonJS范围（使用Browserify / WebPack的浏览器代码）。
shared-node-browser - Node.js和Browser的通用全局。
es6- 启用除模块外的所有ECMAScript 6功能（这会自动将ecmaVersion解析器选项设置为6）。
worker - 网络工作者全局变量。
amd- 根据amd规范定义require()和define()作为全局变量。
mocha - 增加了所有的Mocha测试全局变量。
jasmine - 为版本1.3和2.0添加了所有Jasmine测试全局变量。
jest - 是全局变量。
phantomjs - PhantomJS全局变量。
jquery - jQuery全局变量。
prototypejs - Prototype.js全局变量。
shelljs - ShellJS全局变量。
mongo - MongoDB全局变量。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>这些环境并不相互排斥，因此可以一次定义多个环境。</p> <p>使用形式：</p> <ul><li><p>在 JavaScript 文件中使用注释指定环境：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/* eslint-env node, mocha */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>文件内部，配置文件中或使用--env 命令行标志指定环境：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">node</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>package.json 文件中：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mypackage&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.1&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;eslintConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token property">&quot;node&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>在 YAML 中：</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">---</span>
<span class="token key atrule">env</span><span class="token punctuation">:</span>
  <span class="token key atrule">browser</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">node</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></li> <li><p>插件（plugins）</p> <p>此配置需要加载的第三方插件。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;standard&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;promise&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>全局变量（globals）</p> <p>定义了全局变量集合，包含在这个集合中的属性都会被工具认为是全局变量，no-undef 规则就不会发出警告。</p> <p>全局变量的值为 true|false。true 表示变量可以被覆盖，false 表示不允许被覆盖。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;globals&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;document&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token property">&quot;navigator&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token property">&quot;window&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token property">&quot;think&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>自定义规则（settings）</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;sharedData&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>禁用持续查找（root）</p> <p>默认情况下，ESLint 将在根目录下的所有父文件夹中查找配置文件。该属性的作用是一旦发现了配置文件就停止对父文件夹的查找。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>共享配置（extends）</p> <p>配置基础规则，该属性可以是 ESLint 命令，也可以是继承文件的路径。<code>&quot;rules&quot;</code>属性中配置的规则都是基于这个规则之上配置的。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> recommended<span class="token punctuation">,</span> <span class="token comment">// 引入当前版本eslint的核心功能，并且报告一些常见的共同错误。</span>
<span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> all<span class="token punctuation">,</span> <span class="token comment">// 引入当前版本eslint的所有核心规则。</span>
<span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./eslint-config-public.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 引入配置文件路径</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>配置文件中的规则（rules）</p> <p>配置检查规则。</p> <p>规则的错误等级：</p> <ul><li><code>&quot;off&quot; / 0</code>：关闭规则。</li> <li><code>&quot;warn&quot; / 1</code>：打开规则，并且作为一个警告（并不会导致检查不通过）。</li> <li><code>&quot;error / 2&quot;</code>：打开规则，并且作为一个错误（退出码为 1，检查不通过）。</li></ul> <p>使用配置注释配置文件内部的规则，有如下三种格式：</p> <ul><li><p><code>/* eslint xxx: &quot;off&quot;, curly: &quot;error&quot; */</code></p> <p>这个规则中，xxx 被关闭，并且 curly 作为错误打开。</p></li> <li><p><code>/* eslint xxx: 0, curly: 2 */</code></p> <p>使用等同于规则严重性的数字。</p></li> <li><p><code>/* eslint quotes: [&quot;error&quot;, &quot;double&quot;], curly: 2 */</code></p> <p>若规则具有其他选项，则可以使用数组文字语法来指定它们。</p></li></ul> <p>在配置文件内部配置规则，使用该 rules 键、错误级别以及要使用的任何选项：</p> <ul><li><p>JSON 中：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;eqeqeq&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;curly&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;quotes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>YMAL 中：</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">---</span>
<span class="token key atrule">rules</span><span class="token punctuation">:</span>
  <span class="token key atrule">eqeqeq</span><span class="token punctuation">:</span> off
  <span class="token key atrule">curly</span><span class="token punctuation">:</span> error
  <span class="token key atrule">quotes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> error
    <span class="token punctuation">-</span> double
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>要配置在插件中定义的规则，必须在规则 ID 前加上插件名称和 a /：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;plugin1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;eqeqeq&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;curly&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;quotes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token property">&quot;plugin1/rule1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token punctuation">---</span>
<span class="token key atrule">plugins</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> plugin1
<span class="token key atrule">rules</span><span class="token punctuation">:</span>
  <span class="token key atrule">eqeqeq</span><span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token key atrule">curly</span><span class="token punctuation">:</span> error
  <span class="token key atrule">quotes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> error
    <span class="token punctuation">-</span> <span class="token string">'double'</span>
  <span class="token key atrule">plugin1/rule1</span><span class="token punctuation">:</span> error
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>从插件中指定规则时，请确保省略<code>eslint-plugin-</code>。ESLint 在内部仅使用前缀名来查找规则。</p></li></ul> <p>通过内嵌评论注释禁用规则：</p> <ul><li><p>禁用整个文件中的规则警告</p> <p>在文件顶部放置块注释<code>/* eslint-disable */</code></p></li> <li><p>禁用特定行上的所有规则警告</p> <p><code>alert('foo'); // eslint-disable-line // eslint-disable-next-linealert('foo');</code></p></li></ul></li></ol> <h2 id="eslint-命令行"><a href="#eslint-命令行" class="header-anchor">#</a> ESLint 命令行</h2> <ol><li><p><code>eslint [options] [file|dir|glob]*</code></p> <p>运行 ESLint。</p> <p>eg：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>eslint file1.js file2.js
eslint <span class="token string">&quot;lib/**&quot;</span>&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p><code>eslint -h</code></p> <p>查看所有的命令行选项。</p> <p>有些选项可接收一组参数，这类选项支持两种传参方式（除了 <code>--ignore-pattern</code> 不允许第二种方式）：</p> <ul><li>多次指定同一选项，每次接收一个不同的参数。eg：<code>eslint --ext .jsx --ext .js lib/</code></li> <li>将参数列表用逗号分隔，一次传给选项，eg：<code>eslint --ext .jsx,.js lib/</code></li></ul></li></ol> <p>OPTIONS 说明：</p> <ol><li><p>基本配置</p> <ul><li><code>--no-eslintrc</code>：禁用 <code>.eslintrc.*</code> 和 package.json 文件中的配置。</li> <li><code>-c</code>， <code>--config</code>：该选项允许你为 ESLint 指定一个额外的配置文件。</li> <li><code>--env</code>：用于指定环境。该选项只能启用环境，不能禁用在其它配置文件中设置的环境。若要指定多个环境的话，使用逗号分隔它们，或多次使用这个选项。</li> <li><code>--ext</code>：可以指定在指定目录中搜索 JavaScript 文件时，ESLint 将使用哪些文件扩展名。默认扩展名为<code>.js</code>。</li> <li><code>--global</code>：用于定义全局变量。任何指定的全局变量默认是只读的，在变量名字后加上 <code>:true</code> 后会使它变为可写。若要指定多个变量，使用逗号分隔它们，或多次使用这个选项。</li></ul></li> <li><p>指定规则和插件</p> <ul><li><code>--rulesdir</code>：允许指定另一个加载规则文件的目录。</li> <li><code>--plugin</code>：用于指定一个要加载的插件。可以省略插件名的前缀 <code>eslint-plugin-</code>。</li> <li><code>--rule</code>：指定要使用的规则。这些规则将会与配制文件中指定的规则合并。定义多个规则时使用逗号分隔它们，或多次使用这个选项。</li></ul></li> <li><p>解决问题选项</p> <ul><li><code>--fix</code>：指示 ESLint 试图修复尽可能多的问题，修复只针对实际文件本身，而且剩下的未修复的问题才会输出。</li> <li><code>--fix-dry-run</code>：与 <code>--fix</code> 有相同的效果，唯一一点不同是，修复不会保存到文件系统中。</li> <li><code>--fix-type</code>：允许在使用 <code>--fix</code> 或 <code>--fix-dry-run</code> 时指定要应用的修复的类型，修复的三种类型是<code>problem</code>、<code>suggestion</code>、<code>layout</code>。</li></ul></li> <li><p>忽略文件选项</p> <ul><li><code>--ignore-path</code>：允许指定一个文件作为 <code>.eslintignore</code>。默认情况下，ESLint 在当前工作目录下查找 <code>.eslintignore</code>。</li> <li><code>--no-ignore</code>：禁止排除 <code>.eslintignore</code>、<code>--ignore-path</code> 和 <code>--ignore-pattern</code> 文件中指定的文件。</li> <li><code>--ignore-pattern</code>：允许指定要忽略的文件模式，除了 <code>.eslintignore</code> 中的模式之外，可以重复该选项以提供多个模式。</li></ul></li> <li><p>处理警告选项</p> <ul><li><code>--quiet</code>：允许禁止报告警告。如果开启这个选项，ESLint 只会报告错误。</li> <li><code>--max-warnings</code>：允许指定一个警告的阈值，当你的项目中有太多违反规则的警告时，这个阈值被用来强制 ESLint 以错误状态退出。</li></ul></li> <li><p>其它</p> <ul><li><code>--init</code>：配置初始化向导。它被用来帮助新用户快速地创建 <code>.eslintrc</code> 文件，用户通过回答一些问题，选择一个流行的风格指南，或检查你的源文件，自动生成一个合适的配置。</li> <li><code>--debug</code>：将调试信息输出到控制台。</li> <li><code>-h</code>, <code>--help</code>：输出帮助菜单，显示所有可用的选项。当有这个选项时，忽略其他所有选项。</li> <li><code>-v</code>, <code>--version</code>：在控制台输出当前 ESLint 的版本。当有这个标记时，忽略其他所有标记。</li> <li><code>--print-config</code>：输出传递的文件使用的配置。当有这个标记时，不进行检测，只有配置相关的选项才是有效的。</li></ul></li> <li><p>退出码</p> <p>当检测文件时，ESLint 可以使用以下退出代码之一退出：</p> <ul><li>0：检测成功，没有错误。若 <code>--max-warnings</code> 标志被设置为 <code>n</code>，那么警告数量最多为<code>n</code>。</li> <li>1：检测成功，并且至少有一个错误，或者警告多于 <code>--max-warnings</code> 选项所允许的警告。</li> <li>2：由于配置问题或内部错误，检测未能成功。</li></ul></li></ol> <h2 id="eslint-中的-extends-和-plugins"><a href="#eslint-中的-extends-和-plugins" class="header-anchor">#</a> ESLint 中的 extends 和 plugins</h2> <ol><li><p>插件（plugins）</p> <p>ESLint 的规则可以通过 rules 配置，但不同场景、不同规范下有些定制的<code>eslint</code>检查需求，<code>eslint</code>默认提供的可选规则中如果没有，这个时候就需要做一些扩展了。</p> <p>plugin 插件主要是为 ESLint 新增一些检查规则，例如<code>eslint-plugin-react</code>就会对<code>react</code>项目做一些定制的<code>eslint</code>规则，源码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// eslint-plugin-react</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string-property property">'jsx-boolean-value'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">docs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'Enforce boolean attributes notation in JSX'</span><span class="token punctuation">,</span>
					<span class="token literal-property property">category</span><span class="token operator">:</span> <span class="token string">'Stylistic Issues'</span><span class="token punctuation">,</span>
					<span class="token literal-property property">recommended</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
					<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token function">docsUrl</span><span class="token punctuation">(</span><span class="token string">'jsx-boolean-value'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token literal-property property">fixable</span><span class="token operator">:</span> <span class="token string">'code'</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">// ...</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">configs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token comment">// ...</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>这些规则可通过如下两步来引入项目：</p> <ol><li><p>安装<code>eslint-plugin-react</code>插件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> eslint-plugin-react -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>加载插件（写入 ESLint 配置项）</p> <p>开启相应规则的检查能力还是要通过 rules 配置（一个插件库里面往往有几十个新规则，并不是每一个规则都需要开启的，这时候就要根据实际需求来配置相关检查规则）。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// .eslintrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'eslint-plugin-react'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string-property property">'eslint-plugin-react/jsx-boolean-value'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>插件与扩展一样有固定的命名格式，以 <code>eslint-plugin-</code> 开头，使用的时候也可以省略这个头：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token comment">// eslint-plugin-react</span>
		<span class="token string">&quot;vue&quot;</span> <span class="token comment">// eslint-plugin-vue</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>或者是在扩展中引入插件，规则为<code>plugin:${pluginName}/${configName}</code>：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;plugin:react/recommended&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>由上述例子可见，pluginName（插件名）为 react，也就是安装 <code>eslint-plugin-react</code> 包，configName（配置名）为 recommended，这个配置名来源于 react 插件配置的 configs 属性定义的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 自定义的 rule</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> allRules<span class="token punctuation">,</span>
  <span class="token comment">// 可用的扩展</span>
  <span class="token literal-property property">configs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// plugin:react/recommended</span>
    <span class="token literal-property property">recomended</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'react'</span> <span class="token punctuation">]</span>
      <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// plugin:react/all</span>
    <span class="token literal-property property">all</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'react'</span> <span class="token punctuation">]</span>
      <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>这里的配置其实就是 ESLint 的扩展（extends），通过这种方式即可以加载插件，又可以加载扩展。</p></li></ol></li> <li><p>扩展（extends）</p> <p>plugins 与 rules 结合是 ESLint 基础能力，extends 可以看做是去集成一个个配置方案的最佳实践。</p> <p>尽管需要根据不同的需求、风格、规范去配置不同的 ESLint 规则，但往往相似的项目之间需要配置的规则都是大同小异的。若每个项目都是重新一步步开始选择配置规则就比较显得不太人性了；这个时候就是 extends 体现作用的时候。</p> <p>可以把 extends 理解为去集成 ESLint 风格或者 ESLint 插件的最佳实践，它配置的内容实际就是一份份别人配置好的<code>.eslintrc.js</code>。</p> <p>extends 一般支持三种类型：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;plugin:react/recommended&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;eslint-config-standard&quot;</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>eslint:</code> 开头的是 ESLint 官方的扩展，一共有两个：<code>eslint:recommended</code> 、<code>eslint:all</code>。</li> <li><code>plugin:</code> 开头的是扩展是插件类型，也可以直接在 <code>plugins</code> 属性中进行设置。</li> <li>最后一种扩展来自 npm 包，官方规定 npm 包的扩展必须以 <code>eslint-config-</code> 开头，使用时可以省略这个头，上面案例中 <code>eslint-config-standard</code> 可以直接简写成 <code>standard</code>。</li></ul> <p>以<code>eslint-plugin-react</code>为例，它实现了几十种配置规则，为了方便其他人使用，它默认实现了两种最佳实践<code>all</code>以及<code>recommened</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>export <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'eslint-plugin-react/recommended'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这样就可以直接把官方配置好的最佳实践直接拿来用，若碰到和自己风格或者规范有冲突的规则，直接在 rules 中重新定义就可以了，毕竟冲突的规则往往都没有多少。</p> <p>extends 除了使用 plugin 中 config name 的加载方式，往往也会使用<code>eslint-config-xxxx</code>这样命名的包。主要是因为有些最佳实践往往不需要自己去重新实现规则检查的方法，只需要去导出一份 ESLint 配置即可。</p></li></ol> <h2 id="eslint-使用流程"><a href="#eslint-使用流程" class="header-anchor">#</a> ESLint 使用流程</h2></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vuejs/vuepress/edit/master//docs/zh/topics/eslint.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/8/10 12:51:20</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Topics/zh/topics/" class="prev router-link-active">
        探讨话题
      </a></span> <span class="next"><a href="/Topics/zh/topics/prettier.html">
        Prettier 基本操作
      </a>
      →
    </span></p></div> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></main></div><div class="global-ui"><!----></div></div>
    <script src="/Topics/assets/js/app.3843aff7.js" defer></script><script src="/Topics/assets/js/4.60115d9f.js" defer></script><script src="/Topics/assets/js/19.cbf35e33.js" defer></script>
  </body>
</html>
